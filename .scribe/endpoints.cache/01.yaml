## Autogenerated by Scribe. DO NOT MODIFY.

name: KPI
description: ''
endpoints:
  -
    httpMethods:
      - POST
    uri: api/kpi/devices/register
    metadata:
      groupName: KPI
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Register or update a KPI device heartbeat profile.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_ACCESS_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      device_uuid:
        name: device_uuid
        description: 'Unique identifier for the device in UUID format. Must be a valid UUID.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      platform:
        name: platform
        description: 'The operating system running on the device. Must not be greater than 50 characters.'
        required: true
        example: ios
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'Semantic version of the application installed on the device. Must not be greater than 50 characters.'
        required: true
        example: 2.3.1
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      os_version:
        name: os_version
        description: 'Version of the operating system. Must not be greater than 100 characters.'
        required: false
        example: 16.4.1
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'Human readable model name of the device. Must not be greater than 150 characters.'
        required: false
        example: 'iPhone 14 Pro'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      device_manufacturer:
        name: device_manufacturer
        description: 'Manufacturer of the device hardware. Must not be greater than 150 characters.'
        required: false
        example: Apple
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      locale:
        name: locale
        description: 'IETF language tag representing the device locale. Must not be greater than 10 characters.'
        required: false
        example: en-US
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      timezone:
        name: timezone
        description: 'IANA timezone identifier reported by the device. Must not be greater than 60 characters.'
        required: false
        example: America/New_York
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'Token used for sending push notifications to the device. Must not be greater than 255 characters.'
        required: false
        example: d2f7aa31e7f846d3a2b99b9cb6a1ef01
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      first_seen_at:
        name: first_seen_at
        description: 'Timestamp when the device was first seen. Must be a valid date.'
        required: false
        example: '2024-04-01T10:30:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      last_seen_at:
        name: last_seen_at
        description: 'Timestamp of the most recent device interaction. Must be a valid date.'
        required: false
        example: '2024-04-03T12:15:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      last_heartbeat_at:
        name: last_heartbeat_at
        description: 'Timestamp of the latest heartbeat received from the device. Must be a valid date.'
        required: false
        example: '2024-04-03T12:00:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      extra:
        name: extra
        description: 'Additional key-value metadata captured during registration.'
        required: false
        example:
          carrier: Verizon
          build_number: '20301'
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      device_uuid: 550e8400-e29b-41d4-a716-446655440000
      platform: ios
      app_version: 2.3.1
      os_version: 16.4.1
      device_model: 'iPhone 14 Pro'
      device_manufacturer: Apple
      locale: en-US
      timezone: America/New_York
      push_token: d2f7aa31e7f846d3a2b99b9cb6a1ef01
      first_seen_at: '2024-04-01T10:30:00Z'
      last_seen_at: '2024-04-03T12:15:00Z'
      last_heartbeat_at: '2024-04-03T12:00:00Z'
      extra:
        carrier: Verizon
        build_number: '20301'
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/kpi/devices/heartbeat
    metadata:
      groupName: KPI
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Record a KPI device heartbeat.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_ACCESS_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      device_uuid:
        name: device_uuid
        description: 'Unique identifier for the device sending the heartbeat. Must be a valid UUID.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      last_seen_at:
        name: last_seen_at
        description: 'Timestamp when the device last interacted with the platform. Must be a valid date.'
        required: false
        example: '2024-04-03T11:59:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      last_heartbeat_at:
        name: last_heartbeat_at
        description: 'Timestamp for the most recent heartbeat event. Must be a valid date.'
        required: false
        example: '2024-04-03T12:00:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      app_version:
        name: app_version
        description: 'Current application version running on the device. Must not be greater than 50 characters.'
        required: false
        example: 2.3.1
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      platform:
        name: platform
        description: 'Operating system of the device. Must not be greater than 50 characters.'
        required: false
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'Version string of the device operating system. Must not be greater than 100 characters.'
        required: false
        example: '14'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      extra:
        name: extra
        description: 'Additional metadata provided by the client.'
        required: false
        example:
          battery_level: 82
          network: wifi
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      device_uuid: 550e8400-e29b-41d4-a716-446655440000
      last_seen_at: '2024-04-03T11:59:00Z'
      last_heartbeat_at: '2024-04-03T12:00:00Z'
      app_version: 2.3.1
      platform: android
      os_version: '14'
      extra:
        battery_level: 82
        network: wifi
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/kpi/sessions
    metadata:
      groupName: KPI
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Record or update a KPI session.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_ACCESS_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      device_uuid:
        name: device_uuid
        description: 'Unique identifier for the device that generated the session. Must be a valid UUID.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      session_uuid:
        name: session_uuid
        description: 'Unique identifier for the tracked session. Must be a valid UUID.'
        required: true
        example: 3f2504e0-4f89-11d3-9a0c-0305e82c3301
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      started_at:
        name: started_at
        description: 'Timestamp indicating when the session started. Must be a valid date.'
        required: true
        example: '2024-04-05T10:00:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      ended_at:
        name: ended_at
        description: 'Timestamp indicating when the session ended, if finished. Must be a valid date. Must be a date after or equal to <code>started_at</code>.'
        required: false
        example: '2024-04-05T10:25:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      duration_seconds:
        name: duration_seconds
        description: 'Total session duration in seconds, when already computed. Must be at least 0.'
        required: false
        example: 1500
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      app_version:
        name: app_version
        description: 'Version of the app used during the session. Must not be greater than 50 characters.'
        required: true
        example: 2.3.1
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      platform:
        name: platform
        description: 'Operating system of the device. Must not be greater than 50 characters.'
        required: false
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'Version of the operating system. Must not be greater than 100 characters.'
        required: false
        example: '14'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      network_type:
        name: network_type
        description: 'Network connection type observed during the session. Must not be greater than 50 characters.'
        required: false
        example: wifi
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      city:
        name: city
        description: 'City resolved for the session location, if available. Must not be greater than 150 characters.'
        required: false
        example: 'San Francisco'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      country:
        name: country
        description: 'Country resolved for the session location, if available. Must not be greater than 150 characters.'
        required: false
        example: 'United States'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      metadata:
        name: metadata
        description: 'Additional metadata captured for the session.'
        required: false
        example:
          screen_count: 5
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      user_id:
        name: user_id
        description: 'Identifier of the authenticated user linked to the session. The <code>id</code> of an existing record in the users table.'
        required: false
        example: 42
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      device_uuid: 550e8400-e29b-41d4-a716-446655440000
      session_uuid: 3f2504e0-4f89-11d3-9a0c-0305e82c3301
      started_at: '2024-04-05T10:00:00Z'
      ended_at: '2024-04-05T10:25:00Z'
      duration_seconds: 1500
      app_version: 2.3.1
      platform: android
      os_version: '14'
      network_type: wifi
      city: 'San Francisco'
      country: 'United States'
      metadata:
        screen_count: 5
      user_id: 42
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: 'api/kpi/sessions/{session_session_uuid}/update'
    metadata:
      groupName: KPI
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Update a KPI session.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_ACCESS_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      session_session_uuid:
        name: session_session_uuid
        description: ''
        required: true
        example: 6ff8f7f6-1eb3-3525-be4a-3932c805afed
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
    cleanUrlParameters:
      session_session_uuid: 6ff8f7f6-1eb3-3525-be4a-3932c805afed
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      ended_at:
        name: ended_at
        description: 'Timestamp when the session concluded. Must be a valid date.'
        required: false
        example: '2024-04-05T10:25:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      duration_seconds:
        name: duration_seconds
        description: 'Updated total duration of the session in seconds. Must be at least 0.'
        required: false
        example: 1520
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      app_version:
        name: app_version
        description: 'Updated app version associated with the session. Must not be greater than 50 characters.'
        required: false
        example: 2.3.2
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      platform:
        name: platform
        description: 'Operating system of the device. Must not be greater than 50 characters.'
        required: false
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'Updated operating system version. Must not be greater than 100 characters.'
        required: false
        example: '14'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      network_type:
        name: network_type
        description: 'Network connection type detected at the end of the session. Must not be greater than 50 characters.'
        required: false
        example: 4g
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      city:
        name: city
        description: 'Updated city for the session, if applicable. Must not be greater than 150 characters.'
        required: false
        example: 'New York'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      country:
        name: country
        description: 'Updated country for the session, if applicable. Must not be greater than 150 characters.'
        required: false
        example: 'United States'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      metadata:
        name: metadata
        description: 'Additional metadata merged into the session record.'
        required: false
        example:
          last_screen: checkout
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      user_id:
        name: user_id
        description: 'Identifier of the authenticated user associated with the session. The <code>id</code> of an existing record in the users table.'
        required: false
        example: 42
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      ended_at: '2024-04-05T10:25:00Z'
      duration_seconds: 1520
      app_version: 2.3.2
      platform: android
      os_version: '14'
      network_type: 4g
      city: 'New York'
      country: 'United States'
      metadata:
        last_screen: checkout
      user_id: 42
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/kpi/events
    metadata:
      groupName: KPI
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Record KPI events for a device session.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_ACCESS_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      device_uuid:
        name: device_uuid
        description: 'Unique identifier for the device emitting the events. Must be a valid UUID.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      session_uuid:
        name: session_uuid
        description: 'Identifier of the session that captured the events. Must be a valid UUID.'
        required: false
        example: 3f2504e0-4f89-11d3-9a0c-0305e82c3301
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      platform:
        name: platform
        description: 'Operating system of the device. Must not be greater than 50 characters.'
        required: false
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      user_id:
        name: user_id
        description: 'Identifier of the authenticated user emitting the events. The <code>id</code> of an existing record in the users table.'
        required: false
        example: 42
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      events:
        name: events
        description: 'Collection of analytics events to record. Must have at least 1 items.'
        required: true
        example:
          -
            event_uuid: d94f0ab4-9fc9-4e36-8d92-3d1b60fa7f30
            event_key: search_performed
            event_name: 'Search Performed'
            event_category: engagement
            event_value: 1
            occurred_at: '2024-04-05T10:05:00Z'
            metadata:
              query: 'wireless headphones'
              results_count: 12
        type: 'object[]'
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'events[].event_uuid':
        name: 'events[].event_uuid'
        description: 'Client-generated identifier for the individual event. Must be a valid UUID.'
        required: false
        example: d94f0ab4-9fc9-4e36-8d92-3d1b60fa7f30
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      'events[].event_key':
        name: 'events[].event_key'
        description: 'Key representing the type of event. Must not be greater than 100 characters.'
        required: true
        example: search_performed
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'events[].event_name':
        name: 'events[].event_name'
        description: 'Human-readable name of the event. Must not be greater than 255 characters.'
        required: false
        example: 'Search Performed'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      'events[].event_category':
        name: 'events[].event_category'
        description: 'Category grouping for the event. Must not be greater than 100 characters.'
        required: false
        example: engagement
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      'events[].event_value':
        name: 'events[].event_value'
        description: 'Numeric value associated with the event.'
        required: false
        example: 1.0
        type: number
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      'events[].occurred_at':
        name: 'events[].occurred_at'
        description: 'Timestamp indicating when the event happened. Must be a valid date.'
        required: false
        example: '2024-04-05T10:05:00Z'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      'events[].metadata':
        name: 'events[].metadata'
        description: 'Arbitrary metadata for the event payload.'
        required: false
        example:
          query: 'wireless headphones'
          results_count: 12
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      device_uuid: 550e8400-e29b-41d4-a716-446655440000
      session_uuid: 3f2504e0-4f89-11d3-9a0c-0305e82c3301
      platform: android
      user_id: 42
      events:
        -
          event_uuid: d94f0ab4-9fc9-4e36-8d92-3d1b60fa7f30
          event_key: search_performed
          event_name: 'Search Performed'
          event_category: engagement
          event_value: 1
          occurred_at: '2024-04-05T10:05:00Z'
          metadata:
            query: 'wireless headphones'
            results_count: 12
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
